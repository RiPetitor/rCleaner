# üìä –û—Ç—á—ë—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è rCleaner

## ‚úÖ –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –í–µ—Ä—Å–∏—è –≤ –ø–ª–∞–Ω–µ | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|-------------|----------------|-------------------|---------|------------|
| **ratatui** | 0.29.0 | 0.30.0 (beta), 0.29.0 (stable) | ‚úÖ OK | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—É—é 0.29.0 |
| **crossterm** | 0.28.1 | 0.29.0 (2025-04-05) | ‚ö†Ô∏è Update | –û–±–Ω–æ–≤–∏—Ç—å –¥–æ 0.29.0 |
| **sysinfo** | 0.37 | 0.37.2 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **serde** | 1.0 | 1.0.214 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **serde_json** | 1.0 | 1.0.128 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **toml** | 0.8 | 0.8.19 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **anyhow** | 1.0 | 1.0.89 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **thiserror** | 1.0 | 1.0.66 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **log** | 0.4 | 0.4.22 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **env_logger** | 0.11 | 0.11.5 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **walkdir** | 2.5 | 2.5.0 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **fs_extra** | 1.3 | 1.3.0 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **sudo** | 0.6 | 0.6.0 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **regex** | 1.10 | 1.11.0 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **lazy_static** | 1.4 | 1.5.0 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |

### –ü–∞–∫–µ—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –í–µ—Ä—Å–∏—è | –°—Ç–∞—Ç—É—Å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|-------------|--------|---------|---------------|
| **librpm.rs** | ~0.17 | ‚úÖ OK | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è RPM –æ–ø–µ—Ä–∞—Ü–∏–π |
| **flatpak** | 0.18.1 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **snapd-rs** | 0.1 | ‚úÖ OK | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è |
| **rpm-ostree** | - | ‚ö†Ô∏è Special | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::process::Command` –≤–º–µ—Å—Ç–æ –∫—Ä–µ–π—Ç–æ–≤ |

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –í–µ—Ä—Å–∏—è | –°—Ç–∞—Ç—É—Å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|-------------|--------|---------|---------------|
| **libsystemd** | 0.7.0 | ‚úÖ BEST | –ü–†–ï–î–ü–û–ß–¢–ò–¢–ï–õ–¨–ù–û - —á–∏—Å—Ç—ã–π Rust, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π |
| **systemd** | 0.10.0 | ‚úÖ OK | –¢—Ä–µ–±—É–µ—Ç libsystemd FFI |
| **systemctl** | 0.5.0 | ‚ö†Ô∏è OK | –ß–µ—Ä–µ–∑ systemctl (–Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ) |

### –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-------------|--------|-------------|---------|
| **tokio** | 1.41+ | I/O –æ–ø–µ—Ä–∞—Ü–∏–∏, async | ‚úÖ BEST |
| **rayon** | 1.10 | CPU-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ | ‚úÖ OK |
| **async-rayon** | 0.1.0 | –ö–æ–º–±–∏–Ω–∞—Ü–∏—è tokio + rayon | ‚úÖ ALTERNATIVE |

### –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –í–µ—Ä—Å–∏—è | –°—Ç–∞—Ç—É—Å | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|-------------|--------|---------|------------|
| **walkdir** | 2.5.0 | ‚úÖ OK | –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π |
| **fs_extra** | 1.3.0 | ‚úÖ OK | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ |
| **jwalk** | 0.8 | ‚ö†Ô∏è Alternative | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –æ–±—Ö–æ–¥ (–º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤–º–µ—Å—Ç–æ walkdir) |

## üîÑ –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```toml
[package]
name = "rcleaner"
version = "0.0.1"
edition = "2024"

[dependencies]
# TUI –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª
ratatui = "0.29"
crossterm = "0.29"

# –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
sysinfo = "0.37"

# –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
toml = "0.8"

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
anyhow = "1.0"
thiserror = "1.0"

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
log = "0.4"
env_logger = "0.11"

# –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
walkdir = "2.5"
fs_extra = "1.3"

# –°–∏—Å—Ç–µ–º–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
sudo = "0.6"
regex = "1.10"
lazy_static = "1.5"

# –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
tokio = { version = "1.41", features = ["full"] }
rayon = "1.10"

# systemd (–≤—ã–±–æ—Ä –æ–¥–Ω–æ–≥–æ –∏–∑ –¥–≤—É—Ö)
libsystemd = "0.7"  # –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø - —á–∏—Å—Ç—ã–π Rust

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –ø–∞–∫–µ—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
librpm = { version = "0.17", optional = true }
flatpak = { version = "0.18", optional = true }
snapd-rs = { version = "0.1", optional = true }

[features]
default = ["systemd"]
systemd = ["dep:libsystemd"]
rpm = ["dep:librpm"]
flatpak = ["dep:flatpak"]
snap = ["dep:snapd-rs"]
all-managers = ["rpm", "flatpak", "snap"]
```

## üí° –ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. **–í—ã–±–æ—Ä systemd –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**
- **libsystemd (0.7.0)** - –ü–†–ï–î–ü–û–ß–¢–ò–¢–ï–õ–¨–ù–´–ô –≤—ã–±–æ—Ä
  - ‚úÖ –ß–∏—Å—Ç—ã–π Rust
  - ‚úÖ –ù–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  - ‚úÖ –ë–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ã–π

- **systemd (0.10.0)** - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
  - ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç libsystemd FFI
  - ‚ö†Ô∏è –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º–∞—Ö

### 2. **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**
- **tokio** –¥–ª—è I/O –æ–ø–µ—Ä–∞—Ü–∏–π (—á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤)
- **rayon** –¥–ª—è CPU-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á (–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤)
- **async-rayon** –¥–ª—è –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 3. **rpm-ostree**
- ‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π Rust –∫—Ä–µ–π—Ç
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::process::Command` –¥–ª—è –≤—ã–∑–æ–≤–∞ `rpm-ostree`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ rpm-ostree –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

### 4. **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**
- **walkdir** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–±–æ—Ä, —Ö–æ—Ä–æ—à–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- **jwalk** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–æ–º (–º–æ–∂–µ—Ç –±—ã—Ç—å –±—ã—Å—Ç—Ä–µ–µ)
- **scandir** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å rayon –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π

### 5. **crossterm –≤–µ—Ä—Å–∏—è**
- –û–±–Ω–æ–≤–∏—Ç—å —Å 0.28.1 –¥–æ 0.29.0
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å ratatui 0.29.x

## üìã –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏:
1. ‚¨ÜÔ∏è crossterm: 0.28.1 ‚Üí 0.29.0
2. ‚úÖ lazy_static: 1.4 ‚Üí 1.5.0
3. ‚úÖ log: 0.4 ‚Üí 0.4.22
4. ‚úÖ env_logger: 0.11 ‚Üí 0.11.5

### –ó–∞–º–µ–Ω—ã:
1. üîÑ systemd: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å libsystemd (0.7.0) –≤–º–µ—Å—Ç–æ systemd (0.10.0)
2. üîÑ rpm-ostree: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å std::process::Command –≤–º–µ—Å—Ç–æ –∫—Ä–µ–π—Ç–∞

### –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è:
1. ‚ûï tokio: 1.41+ –¥–ª—è async –æ–ø–µ—Ä–∞—Ü–∏–π
2. ‚ûï rayon: 1.10 –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|------------|---------------|------------|
| ratatui 0.29 + crossterm 0.29 | ‚úÖ Tested | –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| libsystemd 0.7 + Linux | ‚úÖ Tested | –ß–∏—Å—Ç—ã–π Rust |
| walkdir 2.5 + tokio 1.41 | ‚úÖ Compatible | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ |
| librpm + RPM —Å–∏—Å—Ç–µ–º—ã | ‚úÖ Compatible | RedHat/CentOS/Fedora |
| flatpak + Flatpak | ‚úÖ Compatible | –í—Å–µ Flatpak —Å–∏—Å—Ç–µ–º—ã |

## üéØ –í—ã–≤–æ–¥

–í—Å–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **–∞–∫—Ç—É–∞–ª—å–Ω—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è**. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- –û–±–Ω–æ–≤–∏—Ç—å crossterm –¥–æ 0.29.0
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å libsystemd –≤–º–µ—Å—Ç–æ systemd
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å std::process::Command –¥–ª—è rpm-ostree
- –î–æ–±–∞–≤–∏—Ç—å tokio –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ rCleaner! üöÄ
