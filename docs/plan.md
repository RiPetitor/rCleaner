# rCleaner - TUI System Cleaner

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

**rCleaner** - –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–µ TUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å–∏—Å—Ç–µ–º —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Atomic –∏ Desktop –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ Linux.

**–ö–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤: rpm/dnf, apt, pacman, flatpak, snap
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å–∏—Å—Ç–µ–º—ã (Atomic/Desktop)
- 6 –≤–∫–ª–∞–¥–æ–∫ –æ—á–∏—Å—Ç–∫–∏: –ö—ç—à, –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, –ñ—É—Ä–Ω–∞–ª—ã, –°—Ç–∞—Ä—ã–µ –ø–∞–∫–µ—Ç—ã, –°—Ç–∞—Ä—ã–µ —è–¥—Ä–∞
- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ + —Ä—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ root)
- –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑ –ø–ª–∞–≥–∏–Ω–æ–≤

---

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

```toml
[package]
name = "rcleaner"
version = "0.0.1"
edition = "2024"

[dependencies]
# TUI –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª
ratatui = "0.29"
crossterm = "0.29"

# –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
sysinfo = "0.37"

# –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
toml = "0.8"

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
anyhow = "1.0"
thiserror = "1.0"

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
log = "0.4"
env_logger = "0.11"

# –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
walkdir = "2.5"
fs_extra = "1.3"

# –°–∏—Å—Ç–µ–º–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
sudo = "0.6"
regex = "1.10"
lazy_static = "1.5"

# –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
tokio = { version = "1.41", features = ["full"] }
rayon = "1.10"

# systemd (–ü–†–ï–î–ü–û–ß–¢–ò–¢–ï–õ–¨–ù–´–ô - —á–∏—Å—Ç—ã–π Rust –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
libsystemd = "0.7"

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –ø–∞–∫–µ—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
librpm = { version = "0.17", optional = true }
flatpak = { version = "0.18", optional = true }
snapd-rs = { version = "0.1", optional = true }

[features]
default = ["systemd"]
systemd = []
rpm = ["dep:librpm"]
flatpak = ["dep:flatpak"]
snap = ["dep:snapd-rs"]
all-managers = ["rpm", "flatpak", "snap"]
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º)

–í—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –°–º. `DEPENDENCIES_REVIEW.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞.

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –Ω–∞—á–∞–ª—å–Ω—ã–º –ø–ª–∞–Ω–æ–º:
1. ‚úÖ **crossterm**: –æ–±–Ω–æ–≤–ª—ë–Ω —Å 0.28.1 ‚Üí 0.29.0
2. ‚úÖ **lazy_static**: –æ–±–Ω–æ–≤–ª—ë–Ω —Å 1.4 ‚Üí 1.5.0
3. ‚úÖ **systemd**: –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ **libsystemd** (0.7.0) - —á–∏—Å—Ç—ã–π Rust
4. ‚úÖ **rpm-ostree**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `std::process::Command` –≤–º–µ—Å—Ç–æ –∫—Ä–µ–π—Ç–æ–≤
5. ‚ûï **tokio**: 1.41+ –¥–ª—è async –æ–ø–µ—Ä–∞—Ü–∏–π
6. ‚ûï **rayon**: 1.10 –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫:
- ‚úÖ **ratatui** 0.29 - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ **crossterm** 0.29 - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ **sysinfo** 0.37 - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ **libsystemd** 0.7 - –ü–†–ï–î–ü–û–ß–¢–ò–¢–ï–õ–¨–ù–´–ô –≤—ã–±–æ—Ä (—á–∏—Å—Ç—ã–π Rust)
- ‚úÖ **walkdir** 2.5.0 - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ **fs_extra** 1.3.0 - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ **librpm.rs** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –¥–ª—è RPM
- ‚úÖ **flatpak** 0.18 - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ **snapd-rs** 0.1 - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:

```
src/
‚îú‚îÄ‚îÄ main.rs                          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ lib.rs                           # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
‚îú‚îÄ‚îÄ error.rs                         # –¢–∏–ø—ã –æ—à–∏–±–æ–∫
‚îú‚îÄ‚îÄ config.rs                        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ system/                          # –ú–æ–¥—É–ª—å —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îú‚îÄ‚îÄ detection.rs                  # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ package_manager.rs             # Trait –¥–ª—è –ø–∞–∫–µ—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ rpm_ostree.rs                # rpm-ostree (Atomic)
‚îÇ   ‚îú‚îÄ‚îÄ rpm.rs                       # RPM (Desktop)
‚îÇ   ‚îú‚îÄ‚îÄ dnf.rs                       # DNF (Desktop)
‚îÇ   ‚îú‚îÄ‚îÄ apt.rs                       # APT (Debian/Ubuntu)
‚îÇ   ‚îú‚îÄ‚îÄ pacman.rs                    # Pacman (Arch)
‚îÇ   ‚îú‚îÄ‚îÄ flatpak.rs                    # Flatpak
‚îÇ   ‚îî‚îÄ‚îÄ snap.rs                      # Snap
‚îÇ
‚îú‚îÄ‚îÄ cleaner/                         # –ú–æ–¥—É–ª—å –æ—á–∏—Å—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îú‚îÄ‚îÄ base.rs                      # Trait –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ cache.rs                     # –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
‚îÇ   ‚îú‚îÄ‚îÄ applications.rs               # –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ temp_files.rs                # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ logs.rs                      # –ñ—É—Ä–Ω–∞–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ old_packages.rs              # –°—Ç–∞—Ä—ã–µ –ø–∞–∫–µ—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ old_kernels.rs              # –°—Ç–∞—Ä—ã–µ —è–¥—Ä–∞
‚îÇ
‚îú‚îÄ‚îÄ safety/                          # –ú–æ–¥—É–ª—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îú‚îÄ‚îÄ rules.rs                     # –ü—Ä–∞–≤–∏–ª–∞ –æ—á–∏—Å—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ whitelist.rs                 # Whitelist
‚îÇ   ‚îú‚îÄ‚îÄ blacklist.rs                 # Blacklist
‚îÇ   ‚îú‚îÄ‚îÄ dependency_check.rs           # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ permissions.rs               # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
‚îÇ
‚îú‚îÄ‚îÄ backup/                          # –ú–æ–¥—É–ª—å –±—ç–∫–∞–ø–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îú‚îÄ‚îÄ manager.rs                   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—ç–∫–∞–ø–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ rollback.rs                  # –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îÇ
‚îú‚îÄ‚îÄ tui/                             # TUI –º–æ–¥—É–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îú‚îÄ‚îÄ app.rs                       # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ TUI (Flux –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
‚îÇ   ‚îú‚îÄ‚îÄ state.rs                     # –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ action.rs                     # Actions –¥–ª—è Flux
‚îÇ   ‚îú‚îÄ‚îÄ dispatcher.rs                # Dispatcher –¥–ª—è Flux
‚îÇ   ‚îú‚îÄ‚îÄ store.rs                     # Store –¥–ª—è Flux
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ screens/                     # –≠–∫—Ä–∞–Ω—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.rs                  # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –≤–∫–ª–∞–¥–∫–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cleanup.rs               # –≠–∫—Ä–∞–Ω –æ—á–∏—Å—Ç–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ confirm.rs               # –≠–∫—Ä–∞–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.rs              # –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ progress.rs             # –≠–∫—Ä–∞–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ results.rs              # –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ widgets/                    # –í–∏–¥–∂–µ—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ mod.rs
‚îÇ       ‚îú‚îÄ‚îÄ tabs.rs                  # –í–∏–¥–∂–µ—Ç –≤–∫–ª–∞–¥–æ–∫
‚îÇ       ‚îú‚îÄ‚îÄ selectable_list.rs        # –°–ø–∏—Å–æ–∫ —Å –≥–∞–ª–æ—á–∫–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ progress_bar.rs          # –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
‚îÇ       ‚îú‚îÄ‚îÄ status_bar.rs            # –°—Ç–∞—Ç—É—Å-–±–∞—Ä
‚îÇ       ‚îú‚îÄ‚îÄ info_panel.rs            # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å
‚îÇ       ‚îî‚îÄ‚îÄ buttons.rs              # –ö–Ω–æ–ø–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ utils/                           # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ mod.rs
‚îÇ   ‚îú‚îÄ‚îÄ size_format.rs              # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ file_utils.rs               # –§–∞–π–ª–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ command.rs                  # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îî‚îÄ‚îÄ logger.rs                   # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ
‚îî‚îÄ‚îÄ models/                          # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
    ‚îú‚îÄ‚îÄ mod.rs
    ‚îú‚îÄ‚îÄ item.rs                     # –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
    ‚îú‚îÄ‚îÄ category.rs                 # –ö–∞—Ç–µ–≥–æ—Ä–∏—è –æ—á–∏—Å—Ç–∫–∏
    ‚îî‚îÄ‚îÄ stats.rs                   # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

---

## üîÑ Flux –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ TUI

–ò—Å–ø–æ–ª—å–∑—É–µ–º Flux –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö:

```rust
// Action - —Å–æ–±—ã—Ç–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
#[derive(Debug, Clone, PartialEq)]
pub enum Action {
    // –°–∏—Å—Ç–µ–º–Ω—ã–µ
    Init,
    UpdateCache,
    Exit,

    // –ù–∞–≤–∏–≥–∞—Ü–∏—è
    ChangeTab(usize),
    SelectItem(usize),
    ToggleSelection,

    // –û—á–∏—Å—Ç–∫–∞
    StartCleanup,
    ConfirmCleanup,
    CancelCleanup,
    CleanupProgress(f64),

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    OpenSettings,
    ChangeSafetyLevel(SafetyLevel),
}

// State - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
#[derive(Debug, Default)]
pub struct State {
    current_tab: usize,
    selected_index: usize,
    items: Vec<CleanupItem>,
    total_size: u64,
    safety_rules: SafetyRules,
    cleanup_in_progress: bool,
    cleanup_progress: f64,
}

// Store - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
pub struct Store {
    state: State,
}

impl Store {
    pub fn new() -> Self {
        Self { state: State::default() }
    }

    pub fn update(&mut self, action: Action) {
        match action {
            Action::ChangeTab(index) => {
                self.state.current_tab = index;
            }
            Action::ToggleSelection => {
                if let Some(item) = self.state.items.get_mut(self.state.selected_index) {
                    item.selected = !item.selected;
                    self.update_total_size();
                }
            }
            // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
        }
    }
}

// Dispatcher - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π
pub struct Dispatcher {
    store: Store,
}

impl Dispatcher {
    pub fn new() -> Self {
        Self { store: Store::new() }
    }

    pub fn dispatch(&mut self, action: Action) {
        self.store.update(action);
    }
}
```

---

## üöÄ –≠—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (2-3 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å ratatui 0.29
- [x] –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–¥—É–ª–µ–π
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö traits
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –æ—à–∏–±–æ–∫
- [x] –ë–∞–∑–æ–≤–∞—è Flux –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

**–í—ã—Ö–æ–¥:**
- –†–∞–±–æ—á–∏–π —à–∞–±–ª–æ–Ω TUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ë–∞–∑–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

---

### –≠—Ç–∞–ø 2: –î–µ—Ç–µ–∫—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã (1-2 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
- [ ] –ú–æ–¥—É–ª—å `system/detection.rs`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ rpm-ostree (Atomic)
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –û–° (–ø–æ /etc/os-release)
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (GNOME/KDE/XFCE)
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö —Å–∏—Å—Ç–µ–º (podman/docker)

**–î–µ—Ç–µ–∫—Ü–∏—è:**
```rust
pub enum SystemType {
    AtomicRpmOstree,
    Desktop(DesktopType),
}

pub enum DesktopType {
    RpmFedora,
    RpmRHEL,
    AptDebian,
    AptUbuntu,
    PacmanArch,
}

pub struct SystemInfo {
    system_type: SystemType,
    os_name: String,
    os_version: String,
    desktop_environment: Option<String>,
    available_managers: Vec<PackageManagerType>,
    containers: Vec<ContainerType>,
}
```

**–í—ã—Ö–æ–¥:**
- –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤

---

### –≠—Ç–∞–ø 3: –ü–∞–∫–µ—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã (4-5 –¥–Ω–µ–π)

**–ó–∞–¥–∞—á–∏:**
- [ ] Trait `PackageManager`
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è rpm-ostree
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è RPM
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è DNF
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è APT
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Pacman
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Flatpak
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Snap

**Trait:**
```rust
pub trait PackageManager {
    fn name(&self) -> &str;
    fn version(&self) -> Result<String>;
    fn list_installed(&self) -> Result<Vec<Package>>;
    fn list_orphans(&self) -> Result<Vec<Package>>;
    fn check_dependencies(&self, package: &Package) -> Result<Vec<Package>>;
    fn remove_package(&self, package: &Package, dry_run: bool) -> Result<CleanupResult>;
    fn get_cache_size(&self) -> Result<u64>;
    fn clear_cache(&self, dry_run: bool) -> Result<CleanupResult>;
}

pub struct Package {
    name: String,
    version: String,
    size: u64,
    description: String,
    is_orphan: bool,
    dependencies: Vec<String>,
}
```

**–í—ã—Ö–æ–¥:**
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –£–¥–∞–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π

---

### –≠—Ç–∞–ø 4: –ú–æ–¥—É–ª–∏ –æ—á–∏—Å—Ç–∫–∏ (5-6 –¥–Ω–µ–π)

**–ó–∞–¥–∞—á–∏:**
- [ ] Trait `Cleaner`
- [ ] –ú–æ–¥—É–ª—å –∫—ç—à–∞ (app caches, thumbnails, browser cache)
- [ ] –ú–æ–¥—É–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (flatpak/snap/container apps)
- [ ] –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (/tmp, /var/tmp, ~/.local/share/Trash)
- [ ] –ñ—É—Ä–Ω–∞–ª—ã (systemd journal, application logs)
- [ ] –°—Ç–∞—Ä—ã–µ –ø–∞–∫–µ—Ç—ã (orphans, unused)
- [ ] –°—Ç–∞—Ä—ã–µ —è–¥—Ä–∞ (unused kernels, initramfs)

**Trait:**
```rust
pub trait Cleaner {
    fn name(&self) -> &str;
    fn category(&self) -> CleanupCategory;
    fn scan(&self) -> Result<Vec<CleanupItem>>;
    fn clean(&self, items: &[CleanupItem], dry_run: bool) -> Result<CleanupResult>;
    fn can_clean(&self, item: &CleanupItem) -> bool;
}

pub struct CleanupItem {
    id: String,
    name: String,
    path: Option<String>,
    size: u64,
    description: String,
    category: CleanupCategory,
    source: CleanupSource,
    selected: bool,
    can_clean: bool,
    dependencies: Vec<String>,
}

pub enum CleanupCategory {
    Cache,
    Applications,
    TempFiles,
    Logs,
    OldPackages,
    OldKernels,
}
```

**–í—ã—Ö–æ–¥:**
- –ü–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- –£–º–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

---

### –≠—Ç–∞–ø 5: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (3-4 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
- [ ] –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] Whitelist (–∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã)
- [ ] Blacklist (–∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π root
- [ ] –ó–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**–ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
```rust
pub struct SafetyRules {
    pub enabled: bool,
    pub only_root_can_disable: bool,
    pub whitelist: Vec<SafetyRule>,
    pub blacklist: Vec<SafetyRule>,
}

pub struct SafetyRule {
    pattern: String,
    description: String,
    rule_type: SafetyRuleType,
}

pub enum SafetyRuleType {
    ProtectSystemPackages,
    ProtectKernel,
    ProtectBootloader,
    ProtectUserHome,
    ProtectActiveApplications,
}

impl SafetyRules {
    const DEFAULT_RULES: &'static [SafetyRule] = &[
        SafetyRule {
            pattern: "/boot/*",
            description: "–ó–∞—â–∏—Ç–∞ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞",
            rule_type: SafetyRuleType::ProtectBootloader,
        },
        SafetyRule {
            pattern: "/usr/bin/*",
            description: "–ó–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤",
            rule_type: SafetyRuleType::ProtectSystemPackages,
        },
        // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
    ];
}
```

**–í—ã—Ö–æ–¥:**
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞—è –∑–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ root

---

### –≠—Ç–∞–ø 6: –ë—ç–∫–∞–ø—ã (2-3 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
- [ ] –ú–æ–¥—É–ª—å –±—ç–∫–∞–ø–æ–≤
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ –ø–µ—Ä–µ–¥ –æ—á–∏—Å—Ç–∫–æ–π
- [ ] –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- [ ] –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –±—ç–∫–∞–ø–æ–≤

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```rust
pub struct BackupManager {
    backup_dir: PathBuf,
    max_size: u64,
}

pub struct Backup {
    id: String,
    timestamp: DateTime<Utc>,
    items: Vec<BackupItem>,
    size: u64,
}

pub struct BackupItem {
    original_path: String,
    backup_path: String,
    size: u64,
    checksum: String,
}
```

**–í—ã—Ö–æ–¥:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º

---

### –≠—Ç–∞–ø 7: TUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (6-8 –¥–Ω–µ–π)

**–ó–∞–¥–∞—á–∏:**
- [ ] Flux –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Dispatcher, Store, Actions)
- [ ] –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å 6 –≤–∫–ª–∞–¥–∫–∞–º–∏
- [ ] –í–∏–¥–∂–µ—Ç —Å–ø–∏—Å–∫–∞ —Å –≥–∞–ª–æ—á–∫–∞–º–∏
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã
- [ ] –≠–∫—Ä–∞–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- [ ] –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [ ] –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ rCleaner v0.1.0                    Fedora 40 Atomic ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [Cache] [Apps] [Temp] [Logs] [Packages] [Kernels] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                    ‚îÇ
‚îÇ  ‚òë ~/.cache/mozilla/firefox/...    1.2 GB         ‚îÇ
‚îÇ  ‚òë ~/.cache/thumbnails            450 MB          ‚îÇ
‚îÇ  ‚òë /var/cache/flatpak/            200 MB          ‚îÇ
‚îÇ  ‚òê ~/.cache/Steam/               3.4 GB          ‚îÇ
‚îÇ                                                    ‚îÇ
‚îÇ  Selected: 1.85 GB (12%)                           ‚îÇ
‚îÇ  Total: 15.2 GB                                    ‚îÇ
‚îÇ                                                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [F1:Help] [Space:Select] [R:Refresh] [Enter:Clean] ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–í—ã—Ö–æ–¥:**
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π TUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

---

### –≠—Ç–∞–ø 8: –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (1-2 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] –ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å"
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
5. –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–í—ã—Ö–æ–¥:**
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

### –≠—Ç–∞–ø 9: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (2-3 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
- [ ] –§–æ—Ä–º–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ TOML
- [ ] –ü—Ä–æ—Ñ–∏–ª–∏ –æ—á–∏—Å—Ç–∫–∏ (–±–µ–∑–æ–ø–∞—Å–Ω—ã–π/–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π)
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [ ] –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ TUI

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```toml
[safety]
enabled = true
only_root_can_disable = true
level = "safe"

[profiles.safe]
auto_confirm = false
keep_recent_kernels = 2
keep_recent_deployments = 2
max_backup_size_gb = 10

[profiles.aggressive]
auto_confirm = true
keep_recent_kernels = 1
keep_recent_deployments = 1
max_backup_size_gb = 5

[rules.whitelist]
paths = [
    "~/.config",
    "~/Documents",
    "~/Projects",
]

[rules.blacklist]
patterns = [
    "*.tmp",
    "*.log",
]
```

**–í—ã—Ö–æ–¥:**
- –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –ü—Ä–æ—Ñ–∏–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π

---

### –≠—Ç–∞–ø 10: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (3-4 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
- [ ] –Æ–Ω–∏—Ç —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö

**–¢–µ—Å—Ç—ã:**
```rust
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_dependency_check() {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    }

    #[test]
    fn test_safety_rules() {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    }

    #[test]
    fn test_cleanup_dry_run() {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ dry-run —Ä–µ–∂–∏–º–∞
    }
}
```

**–í—ã—Ö–æ–¥:**
- –ù–∞–¥—ë–∂–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ >80%
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üé® –î–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞):
- **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω**: #1e1e1e
- **–ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞**: #3b82f6
- **–ù–µ–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞**: #374151
- **–í—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç**: #10b981
- **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ**: #f59e0b
- **–û—à–∏–±–∫–∞**: #ef4444
- **–¢–µ–∫—Å—Ç**: #e5e7eb
- **–¢–µ–∫—Å—Ç –ø—Ä–∏–≥–ª—É—à—ë–Ω–Ω—ã–π**: #9ca3af

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏:
- `Tab` / `Shift+Tab`: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
- `‚Üë` / `‚Üì`: –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–ø–∏—Å–∫—É
- `Space`: –í—ã–±–æ—Ä/—Å–Ω—è—Ç–∏–µ –≤—ã–±–æ—Ä–∞
- `Enter`: –ù–∞—á–∞—Ç—å –æ—á–∏—Å—Ç–∫—É
- `R`: –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
- `F1`: –°–ø—Ä–∞–≤–∫–∞
- `Q`: –í—ã—Ö–æ–¥
- `Esc`: –û—Ç–º–µ–Ω–∞

---

## üîí –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (–∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫—Ä–æ–º–µ root):
1. **–ó–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**: /usr, /boot, /etc
2. **–ó–∞—â–∏—Ç–∞ —è–¥—Ä**: /boot/vmlinuz, /lib/modules
3. **–ó–∞—â–∏—Ç–∞ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞**: grub, systemd-boot
4. **–ó–∞—â–∏—Ç–∞ –¥–æ–º–∞—à–Ω–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π**: ~/Documents, ~/Pictures, ~/Music
5. **–ó–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**: –ø—Ä–æ–≤–µ—Ä–∫–∞ PID

### –ü—Ä–æ–≤–µ—Ä–∫–∞ root:
```rust
use sudo::check;

pub fn check_root_permissions() -> bool {
    match check() {
        sudo::RunningAs::Root | sudo::RunningAs::Sudo => true,
        _ => false,
    }
}
```

---

## üìä –¶–∏—Ñ—Ä–æ–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–±–µ–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤)

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤:
```rust
pub fn format_size(bytes: u64) -> String {
    match bytes {
        0..=1023 => format!("{} B", bytes),
        1024..=1_048_575 => format!("{} KB", bytes / 1024),
        1_048_576..=1_073_741_823 => format!("{} MB", bytes / 1_048_576),
        1_073_741_824..=1_099_511_627_775 => format!("{} GB", bytes / 1_073_741_824),
        _ => format!("{} TB", bytes / 1_099_511_627_776),
    }
}

pub fn format_percentage(part: u64, total: u64) -> String {
    if total == 0 {
        "0%".to_string()
    } else {
        format!("{}%", (part * 100 / total))
    }
}
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
```
Selected: 1.85 GB (12%)
Total: 15.2 GB
Progress: 5.2 GB / 8.7 GB (60%)
```

---

## üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã

### Atomic –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã:
- Fedora Silverblue/Kinoite/Sericea
- RHEL CoreOS
- CentOS Stream Core
- Universal Blue (Bazzite, Bluefin, Aurora)

### Desktop –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã:
- **RPM-based**: Fedora, RHEL, CentOS, openSUSE
- **DEB-based**: Debian, Ubuntu, Mint
- **Arch-based**: Arch Linux, Manjaro, EndeavourOS

### –ü–∞–∫–µ—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã:
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ**: rpm, dnf, apt, pacman
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ**: flatpak, snap
- **–û–±—Ä–∞–∑—ã**: podman, docker

---

## üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –≤–∫–ª–∞–¥–æ–∫:

**1. –ö—ç—à:**
- –ë—Ä–∞—É–∑–µ—Ä—ã: Firefox, Chrome, Brave
- –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –æ–∫–æ–Ω: ~/.cache/thumbnails
- –ü–∞–∫–µ—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã: /var/cache/dnf, /var/cache/apt
- Flatpak: /var/cache/flatpak
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è: Steam, Spotify, Discord

**2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
- Flatpak –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- Snap –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- AppImage —Ñ–∞–π–ª—ã
- Container images (podman/docker)
- Flatpak runtimes (unused)

**3. –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- /tmp
- /var/tmp
- ~/.local/share/Trash
- ~/.cache/tmp
- /tmp/systemd-* (—É–¥–∞–ª—ë–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã)

**4. –ñ—É—Ä–Ω–∞–ª—ã:**
- Systemd journal: /var/log/journal
- Application logs: ~/.local/share/logs
- Xorg logs: /var/log/Xorg.*
- Other logs: /var/log/*.log

**5. –°—Ç–∞—Ä—ã–µ –ø–∞–∫–µ—Ç—ã:**
- Orphan packages (apt/dnf/pacman)
- Unused dependencies
- Leftover packages
- Partially installed packages

**6. –°—Ç–∞—Ä—ã–µ —è–¥—Ä–∞:**
- Unused kernels: /boot/vmlinuz-*
- Old initramfs: /boot/initramfs-*
- Old modules: /lib/modules/*
- Boot configs: /boot/loader/entries/*

---

## üîÑ –¶–∏–∫–ª –æ—á–∏—Å—Ç–∫–∏

1. **–î–µ—Ç–µ–∫—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã**
2. **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
3. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** –≤ TUI
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã** –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** –∏ –ø—Ä–∞–≤–∏–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
6. **Dry-run** (–ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä)
7. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**
8. **–°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞**
9. **–û—á–∏—Å—Ç–∫–∞** —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
10. **–û—Ç—á—ë—Ç –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö**
11. **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞**

---

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```rust
use tokio::task::JoinSet;
use rayon::prelude::*;

// –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
async fn parallel_scan(paths: Vec<PathBuf>) -> Result<Vec<CleanupItem>> {
    let mut tasks = JoinSet::new();

    for path in paths {
        tasks.spawn(async move {
            scan_directory(&path).await
        });
    }

    let mut results = Vec::new();
    while let Some(task_result) = tasks.join_next().await {
        results.push(task_result??);
    }

    Ok(results)
}

// CPU-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤)
use rayon;

fn calculate_sizes_parallel(items: &mut Vec<CleanupItem>) {
    items.par_iter_mut().for_each(|item| {
        item.size = calculate_directory_size(&item.path);
    });
}
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: tokio –¥–ª—è I/O, rayon –¥–ª—è CPU
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- **–õ–µ–Ω–∏–≤–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤**: –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–ü–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤**: –∏–∑–±–µ–∂–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –ø–∞–º—è—Ç—å
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –æ–±—Ö–æ–¥–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ walkdir/jwalk
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π**: –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π UI –≤–æ –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–π

---

## üö¶ –°—Ä–æ–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

| –≠—Ç–∞–ø | –°—Ä–æ–∫ | –ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–æ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|-------|------|-------------|-----------|
| –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | 2-3 –¥–Ω—è | 2-3 –¥–Ω—è | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞, –±–∞–∑–æ–≤–∞—è TUI |
| –î–µ—Ç–µ–∫—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã | 1-2 –¥–Ω—è | 3-5 –¥–Ω–µ–π | –ü—Ä–æ–≤–µ—Ä–∫–∞ rpm-ostree, –ø–∞–∫–µ—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ |
| –ü–∞–∫–µ—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã | 4-5 –¥–Ω–µ–π | 7-10 –¥–Ω–µ–π | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è trait –¥–ª—è –≤—Å–µ—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ |
| –ú–æ–¥—É–ª–∏ –æ—á–∏—Å—Ç–∫–∏ | 5-6 –¥–Ω–µ–π | 12-16 –¥–Ω–µ–π | –í–∫–ª—é—á–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 3-4 –¥–Ω—è | 15-20 –¥–Ω–µ–π | –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| –ë—ç–∫–∞–ø—ã | 2-3 –¥–Ω—è | 17-23 –¥–Ω–µ–π | –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—ç–∫–∞–ø–∞–º–∏ |
| TUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | 6-8 –¥–Ω–µ–π | 23-31 –¥–Ω–µ–π | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å Flux |
| –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ | 1-2 –¥–Ω—è | 24-33 –¥–Ω–µ–π | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | 2-3 –¥–Ω—è | 26-36 –¥–Ω–µ–π | TOML, –ø—Ä–æ—Ñ–∏–ª–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 3-4 –¥–Ω—è | 29-40 –¥–Ω–µ–π | –Æ–Ω–∏—Ç –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã |

**–û–±—â–∏–π —Å—Ä–æ–∫: ~4-6 –Ω–µ–¥–µ–ª—å (20-40 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π)**

### –§–∞–∫—Ç–æ—Ä—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ —Å—Ä–æ–∫–∏:
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫**: —É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
- ‚úÖ **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –Ω–æ –±—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Flux –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è, –ª–µ–≥—á–µ –æ—Ç–ª–∞–¥–∫–∞
- ‚ö†Ô∏è **–†–∞–∑–ª–∏—á–∏—è –≤ –ø–∞–∫–µ—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–∞—Ö**: —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- ‚ö†Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ç—Ä–µ–±—É–µ—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üéÅ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (—Ñ–∞–∑–∞ 2)

- [ ] –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- [ ] –£–¥–∞–ª—ë–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ SSH
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤ –≤ JSON/CSV
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º, –∫–æ–≥–¥–∞:

1. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã
2. ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–∏–ø —Å–∏—Å—Ç–µ–º—ã (Atomic/Desktop)
3. ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –≤—Å–µ 6 –≤–∫–ª–∞–¥–æ–∫ –æ—á–∏—Å—Ç–∫–∏
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
5. ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
6. ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ + —Ä—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
7. ‚úÖ –°–æ–∑–¥–∞—é—Ç—Å—è –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –æ—á–∏—Å—Ç–∫–æ–π
8. ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—É—Ö–æ–π –ø—Ä–æ–≥–æ–Ω (dry-run)
9. ‚úÖ TUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫—Ä–∞—Å–∏–≤—ã–π –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã–π
10. ‚úÖ –¶–∏—Ñ—Ä–æ–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–µ–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤
11. ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ >80%
12. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
